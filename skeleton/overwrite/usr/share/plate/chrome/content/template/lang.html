<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css" href="../custom-buttons-3.1.css" />
<script type="text/javascript" src="../jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="../plate.js"></script>
<script type="text/javascript">

function set_locale(x) {
	xpudPrefs.setCharPref("xpud.locale", $('#uilang').val());
	xpudPrefs.setCharPref("xpud.keymap", $('#kmap').val());
	save_preferences();	
	if (x % 2 === 1) {
	system('/usr/local/bin/set_locale ' + $('#uilang').val() + ' ' + $('#kmap').val());
	} 
	window.parent.location.reload();
}

var keymap_flag=0;

</script>
</head>

<body onLoad="setSelectedOpts('xpud.locale', 'uilang'); setSelectedOpts('xpud.keymap', 'kmap');">
<div style="margin: 20px auto; width: 400px;">
<h2 style="border-bottom: 1px gray solid;">Language Setting</h2>

<div style="margin-left: 20px;">

<p>Change language to:</p>

<select id="uilang" name="uilang">
<option value="en">English</option>
<option value="zh">Chinese (Traditional)</option>
<option value="zh_cn">Chinese (Simplified)</option>
<option value="fi">Finnish</option>
<option value="fr">French</option>
<option value="gl">Galician</option>
<option value="de">German</option>
<option value="it">Italian</option>
<option value="jp">Japanese</option>
<option value="pl">Polish</option>
<option value="pt">Portuguese</option>
<option value="ru">Russian</option>
<option value="es">Spanish</option>
<option value="se">Swedish</option>
<option value="vn">Vietnamese</option>
</select>

<p style="font-size: 80%;">
<a href="#" onclick="$('#keymap').toggle(); keymap_flag++;" style="color: gray;">Advanced options</a>
</p>

<div id="keymap" style="display: none;">
<p>Change keyboard layout:</p>

<select id="kmap" name="kmap">
<option value="us">English (us)</option>
<option value="be">Belgian (be)</option>
<option value="ca">Canadian (ca)</option>
<option value="dvorak">Dvorak</option>
<option value="gb">English (gb)</option>
<option value="uk">English (uk)</option>
<option value="fi">Finnish (fi)</option>
<option value="fr">French (fr)</option>
<option value="de">German (de)</option>
<option value="gr">Greek (gr)</option>
<option value="it">Italian (it)</option>
<option value="jp">Japanese (jp)</option>
<option value="no">Norwegian (no)</option>
<option value="pl">Polish (pl)</option>
<option value="pt">Portuguese (pt)</option>
<option value="ru">Russian (ru)</option>
<option value="se">Swedish (se)</option>
<option value="es">Spanish (es)</option>
<option value="vn">Vietnamese (vn)</option>
</select>

</div>

<p>
<a href="#" class="btn primary" onclick="set_locale(keymap_flag++);"><span><span><b>&nbsp;</b><u>Change and Save</u></span></span></a>
</p>
</div>

</body>
</html>
